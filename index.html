<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>What is GraphQL?</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/graphql.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section style="height: 100%;">
          <div style="background-color: white; width: 100%; height: 400%; position: absolute; top: -100%; left: -45%; z-index: -1;"></div>

          <div style="width: 50%; display: inline-block; margin-right: 5%; vertical-align: middle;">
            <p><img src="lib/images/graphql.svg" style="max-width: 450px; max-height: 450px; margin: 0px; border: none; box-shadow: none;" /></p>
          </div>
          <div style="width: 40%; display: inline-block; vertical-align: middle;">
            <p><b><a href="http://graphql.org/" target="_blank">GraphQL</a></b></p>
            <p>A query language for your API</p>
          </div>

          <aside class="notes">
            The GraphQL website will tell you that GraphQL is a query language for your API. While that is a great tag-line, let's dig into what this really means.
          </aside>
        </section>
        <section>
          <aside class="notes">
            But before dig in, we first need to understand why any of this is important.
          </aside>
        </section>

        <section data-background-image="lib/images/bread/bread.jpg" style="height: 100%; vertical-align: top;">
          <h2>How to Bake Bread</h2>
          <!--
          <div class="fragment" style="background-color: rgba(0, 0, 0, 0.5); text-align: left; padding: 1em;">
            <ul>
              <li>Flour</li>
              <li>Salt</li>
              <li>Oil</li>
              <li>Yeast</li>
            </ul>
          </div>
          -->
        </section>
        <section>
          <div>
            <img src="lib/images/bread/yeast.jpg" class="thumbnail" />
            <img src="lib/images/bread/flour.jpg" class="thumbnail" />
            <img src="lib/images/bread/salt.jpg" class="thumbnail" />
            <img src="lib/images/bread/oil.jpg" class="thumbnail" />
            <img src="lib/images/bread/knead.jpg" class="thumbnail" />
            <img src="lib/images/bread/oven.jpg" class="thumbnail" />
          </div>
          <aside class="notes">
            What if I told you that this was everything you needed in order to
            bake a loaf of bread. Would you know what to do?
          </aside>
        </section>
        <section data-background-image="lib/images/bread/fresh-bread.jpg" style="height: 100%; vertical-align: middle;">
          <div class="fragment">Is this <span style="color: red;">recipe</span> sufficient to bake <span style="color: yellow">bread</span>?</div>
          <div class="fragment">What is <span style="font-weight: bold; color: #e7ad52;">missing</span>?</div>
          <aside class="notes">
            <p>Would your bread turn out like this?</p>
          </aside>
        </section>
        <section style="font-size: 0.6em;">
          <div style="width: 50%; display: block; float: left; vertical-align: middle;">
            <h3 style="background: none;">Ingredients</h3>
            <ul class="fragment" style="font-size: 0.6em;">
              <li>Water - 2 1/4 cups</li>
              <li>Sugar - 3 Tbsp</li>
              <li>Salt - 1 Tbsp</li>
              <li>Oil - 2 Tbsp</li>
              <li>Flour - 6 1/2 cups</li>
              <li>Yeast - 1 Package (1/4 oz.)
            </ul>
          </div>
          <div class="fragment" style="width: 50%; display: block; float: left; vertical-align: middle;">
            <h3 style="background: none;">Directions</h3>
            <ol style="font-size: 0.6em;">
              <li class="fragment" style=" padding: 0.4em;">
                In a large bowl, dissolve <span class="t1">yeast</span> in
                <span class="t2">warm water</span>. Add the <span class="t3">
                sugar</span>, <span class="t4">salt</span>, <span class="t1">oil
                </span> and 3 cups <span class="t2">flour</span>. Beat until
                smooth. Stir in enough remaining <span class="t3">flour</span>,
                1/2 cup at a time, to form a <span class="t4">soft dough</span>.
              </li>
              <li class="fragment" style=" padding: 0.4em;">
                Turn onto a <span class="t4">floured surface</span>;
                <span class="t3">knead until smooth</span> and <span class="t2">
                elastic</span>,  about 8-10 <span class="t1">minutes</span>.
                Place in a <span class="t2">greased bowl</span>, turning once to
                <span class="t3">grease the top</span>. Cover and let rise in a
                <span class="t2">warm place</span> until doubled, about
                <span class="t4">1-1/2 hours</span>.
              </li>
              <li class="fragment" style=" padding: 0.4em;">
                <span class="t2">Punch dough</span> down. Turn onto a
                <span class="t1">lightly floured surface</span>; divide dough in
                <span class="t3">half</span>. Shape each into a loaf. Place in
                <span class="t4">two greased 9x5-in. loaf pans</span>. Cover and
                let <span class="t3">rise</span> until doubled, about 30-45 minutes.
              </li>
              <li class="fragment" style=" padding: 0.4em;">
                <span class="t1">Bake at 375Â° for 30-35 minutes</span> or until
                golden brown and bread sounds hollow when tapped. Remove from
                pans to <span class="t2">wire racks to cool</span>. Yield:
                2 loaves (16 slices each).
              </li>
            </ol>
          </div>
        </section>
        <section>
          <p>But how does this relate to <strong class="t3">GraphQL</strong>?</p>
          <aside class="notes">
            The GraphQL query language is about allowing a client to specify
            what data is relevant and when. Much like a recipe is
            incomplete without specifying how much of something and in what order.
          </aside>
        </section>
        <section data-background-image="lib/images/bread/salt-flats.jpg" style="height: 100%; vertical-align: top;">
          <aside class="notes">
            For example, the recipe calls for Salt. How much salt is needed? Too
            little or too much and it will ruin the bread. Compare this to a
            traditional REST (Web) API where all of the data is returned even if
            it is not needed.
          </aside>
        </section>

        <section>
          <h3>REST Get my Profile</h3>
          <pre class="fragment"><code data-trim data-noescape>
curl -v -H "Authorization: Bearer &lt;access-token&gt;" \
        -H "concur-correlationid: what-is-graphql-1" \
        "https://user.concurasp.com/profile-service/v1/me"
          </code></pre>

          <pre class="fragment"><code data-trim data-noescape>
{
  "addresses": [
    {
      "type": "Home",
      "streetAddress": "123 456th Ave NE",
      "locality": "Seattle",
      "region": "WA",
      "postalCode": "98000",
      "country": "US"
    },
    {
      "type": "Work",
      "streetAddress": "123 456th Ave NE",
      "locality": "Seattle",
      "region": "WA",
      "postalCode": "98000",
      "country": "US"
    }
  ],
  "com:concur:internal:product:Identifiers:1.0": {
    "cteUsername": "Aaron.XXXXXXX@XXXXXX.com",
    "expenseIds": {
      "guuid": "8000000070055855647",
      "entityId": "p00789z1gu"
    },
    "travelIds": {
      "userId": 77294238,
      "companyId": "f3d4d5e3-44e9-4f04-8d5e-3fd60eaf4e82",
      "companyInternalId": 1,
      "setId": 82421427,
      "ruleClassId": 5800,
      "travelConfigId": "5288"
    }
  },
  "meta": {
    "created": "2015-11-25T01:05:00.000",
    "lastModified": "2017-01-16T22:48:00.000",
    "principalType": "user",
    "resourceType": "EnterpriseUser"
  },
  "displayName": "Aaron",
  "name": {
    "formatted": "Weiker, Aaron",
    "familyName": "Weiker",
    "givenName": "Aaron",
    "honorificPrefix": "",
    "honorificSuffix": ""
  },
  "phoneNumbers": [
    {
      "type": "Home",
      "primary": false,
      "notifications": false,
      "countryCode": "US",
      "countryISDCode": "1"
    },
    {
      "type": "Work",
      "primary": false,
      "notifications": false,
      "countryCode": "US",
      "countryISDCode": "1"
    },
    {
      "type": "Cell",
      "primary": true,
      "notifications": false,
      "countryCode": "US",
      "countryISDCode": "1"
    }
  ],
  "com:concur:Employee:1.0": {
    "companyUUID": "f3d4d5e3-44e9-4f04-8d5e-3fd60eaf4e82",
    "companyInternalId": 1,
    "employeeId": "123456789",
    "jobTitle": "B1282-M - MANAGER DEVELOPMENT",
    "managerId": "0d93d3bc-d52f-4a17-bcee-d83a270bce87",
    "orgUnitId": null
  },
  "dateOfBirth": "1940-01-01",
  "schemas": [
    "com:concur:User:1.0",
    "com:concur:internal:product:Identifiers:1.0",
    "com:concur:Employee:1.0",
    "com:concur:TravelPreferences:1.0",
    "com:concur:Programs:1.0",
    "com:concur:Documents:1.0",
    "com:concur:internal:Roles:1.0"
  ],
  "active": true,
  "id": "3233c241-a96f-4c69-b504-2055b267abc5",
  "com:concur:TravelPreferences:1.0": {
    "air": {
      "seat": {
        "interrowPosition": "Aisle",
        "sectionPosition": "Forward"
      },
      "meal": "DontCare",
      "homeAirport": "SEA"
    },
    "rail": {
      "space": "DontCare",
      "meal": "DontCare",
      "bedCategory": "DontCare",
      "fareSpaceComfort": "DontCare",
      "deck": "DontCare",
      "coach": "CoachWithTable",
      "bed": "DontCare",
      "berth": "DontCare",
      "noiseComfort": "QuietSpace",
      "contingency": "DontCare",
      "seat": "Aisle"
    },
    "car": {
      "smoking": "NonSmoking",
      "carType": "DontCare",
      "transmission": "DontCare",
      "gpsEnabled": false,
      "skirack": false
    },
    "hotel": {
      "earlyCheckin": false,
      "remark": null,
      "pool": false,
      "roomService": false,
      "foamPillows": false,
      "accessForBlind": false,
      "accessForWheelchair": false,
      "gym": true,
      "roomType": "King",
      "restaurant": false,
      "rollawayBed": false,
      "smoking": "NonSmoking",
      "crib": false
    }
  },
  "com:concur:Programs:1.0": {
    "car": [],
    "air": [
      {
        "default": false,
        "pointsNext": null,
        "expiration": null,
        "nextStatus": null,
        "points": null,
        "segments": null,
        "vendorName": "Alaska Airlines",
        "account": "123456789",
        "statusBenefits": null,
        "status": null,
        "segmentsNext": null,
        "vendorCode": "AS"
      }
    ],
    "rail": [],
    "hotel": [
      {
        "default": false,
        "pointsNext": null,
        "expiration": null,
        "nextStatus": null,
        "points": null,
        "segments": null,
        "vendorName": "Starwood (All)",
        "account": "123456789",
        "statusBenefits": null,
        "status": null,
        "segmentsNext": null,
        "vendorCode": "SW"
      }
    ]
  },
  "gender": "Male",
  "emails": [
    {
      "value": "aaron.xxxxx@XXXXXXXX.com",
      "type": "Business",
      "notifications": true
    },
    {
      "value": "aaron@xxxxxxx.org",
      "type": "Personal",
      "notifications": false
    }
  ],
  "com:concur:Documents:1.0": {
    "visa": [],
    "passport": []
  },
  "com:concur:internal:Roles:1.0": {
    "com.concur.travel": [
      "cesuser",
      "cvpuser",
      "guestbooking",
      "meetingcenteruser",
      "openbookinguser",
      "traveluser"
    ]
  },
  "userType": "Enterprise"
}
          </code></pre>
          <aside class="notes">
            This is an exmaple taken from the brand new Core Services Profile Service.

            <p>
              Notice all of the data here. Do we need all of this data?
            </p>
          </aside>
        </section>

        <section>
          <h3>GraphQL Profile</h3>
          <div class="fragment" style="width: 40%; display: block; float: left; vertical-align: middle;">
            <pre><code data-trim data-noescape>

query profile {
  user {
    profile {
      personal {
        name {
          first
          last
        }
      }
      company {
        name
      }
    }
  }
}
            </code></pre>
            <aside class="notes">
              Notice how we only need to ask for the data that we want back. <br />
              Take a look at the query and data.. notice the similarity of the shape? <br />
              This symetry of data was by design.
            </aside>
          </div>
          <div class="fragment" style="width: 55%; display: block; float: left; vertical-align: middle;">
            <pre><code data-trim data-noescape>
{
  "data": {
    "user": {
      "profile": {
        "personal": {
          "name": {
            "last": "Weiker",
            "first": "Aaron"
          }
        },
        "company": {
          "name": "Concur Technology"
        }
      }
    }
  }
}
            </code></pre>
          </div>
        </section>
        <section>
          <div>
            <img src="lib/images/animals/caribou.jpg" class="thumbnail" />
            <img src="lib/images/animals/dog.jpg" class="thumbnail" />
            <img src="lib/images/animals/frog.jpg" class="thumbnail" />
          </div>
          <div>
            <img src="lib/images/animals/iguana.jpg" class="thumbnail" />
            <img src="lib/images/animals/kitten.jpg" class="thumbnail" />
            <img src="lib/images/animals/lama.jpg" class="thumbnail" />
          </div>
          <div>
            <img src="lib/images/animals/pelican.jpg" class="thumbnail" />
            <img src="lib/images/animals/quokka.jpg" class="thumbnail" />
            <img src="lib/images/animals/snail.jpg" class="thumbnail" />
          </div>
          <aside class="notes">
            <h3>Practice</h3>
            <p>
              Here we have a photo gallery and our job right now is to create a
              GraphQL Schema to describe the various animals.
            </p>
          </aside>
        </section>

        <section style="width: 100%; height: 100%;">
          <h3>Practice</h3>
          <div class="fragment" style="width: 45%; height: 100%; display: block; float: left; vertical-align: middle;">
            <pre><code class="chalk" data-trim data-noescape>
type animal {<span class="fragment">
  name: String</span><span class="fragment">
  legs: Integer</span><span class="fragment">
  covering: CoveringEnum</span><span class="fragment">
}</span>
            </code></pre>
          </div>
          <div class="fragment" style="width: 45%; height: 100% display: block; float: left; vertical-align: middle;">
            <pre><code class="chalk" data-trim data-noescape>
enum CoveringEnum {<span class="fragment">
  HAIR</span><span class="fragment">
  FEATHERS</span><span class="fragment">
  FUR</span><span class="fragment">
  SCALES</span><span class="fragment">
}</span>
            </code></pre>
          </div>
          <aside class="notes">
            <ol>
              <li>
                First we are going to start of by describing the animals. The
                first thing we will do is give each animal a <strong>name</strong>.
                Next the number of <strong>legs</strong>, and then identify what
                type of <strong>covering</strong> they have.
              </li>
              <li>
                An Enumeration is just a restricted set of values that describe
                a field. In this case we have the following different types of
                covering: Hair, Features, Fur, and Scales. <br />
                In case you're wondering, it's a GraphQL convention to use all
                upper case for Enums.
              </li>
            </ol>
          </aside>
        </section>
        <section style="display: block; width: 100%; height: 100%; vertical-align: middle; align: center;">
          <pre>
            <code class="chalk" data-trim data-noescape>
query cuteAnimals {<span class="fragment">
  animals {<span class="fragment">
    name</span><span class="fragment">
    legs</span><span class="fragment">
    covering</span>
  }</span>
}
            </code>
          </pre>
          <aside class="notes">
            Having just created the types that describe our cute animals, let's
            write a query to retrieve this information.
          </aside>
        </section>
        <section>
          <pre><code data-trim data-noescape>
{
  "data": {
    "animals": [
      { "name": "Caribou", "legs": 4,   "covering": "FUR"      },
      { "name": "Dog",     "legs": 4,   "covering": "FUR"      },
      { "name": "Frog",    "legs": 4,   "covering": "SCALES"   },
      { "name": "Cat",     "legs": 4,   "covering": "FUR"      },
      { "name": "Lama",    "legs": 4,   "covering": "FUR"      },
      { "name": "Pelican", "legs": 2,   "covering": "FEATHERS" },
      { "name": "Quokka",  "legs": 4,   "covering": "FUR"      },
      { "name": "Snail",   "legs": nil, "covering": nil        }
    ]
  }
}
          </code></pre>
        </section>

        <section data-background-color="white" data-background-size="100%" data-background-image="lib/images/blue-ribbon.jpg">
          <h3>Congratulations</h3>

          <aside class="notes">
            <p>Congratulations...</p>
            <p>
              So far we have learned the basics of create a GraphQL Schema and
              writing a query. Before we dig any deeper how about we back up
              and explain where GraphQL came from and what this means to us.
            </p>
          </aside>
        </section>

        <section data-background-color="black">
          <img src="lib/images/fb.png" style="border: none; height: 144px; width: 144px;" />
          <div class="fragment">
            <img src="lib/images/graphql.svg" style="border: none; height: 144px; width: 144px;" />
            <img src="lib/images/react.svg" style="border: none; height: 144px; width: 144px;" />
            <img src="lib/images/relay.svg" style="border: none; height: 144px; width: 144px;" />
          </div>

          <aside class="notes">
            <p>
            Facebook created GraphQL about 5 years ago. Facebook had set out
            with the goal of creating a set of common tooling that could be
            used across both Native Mobile applications and Desktop web browsers.
            </p>
            <p>The result ended up being the creation of React, GraphQL, and Relay.</p>
            <p>
              <ul>
                <li>GraphQL as we have learned is a way of exposing data and behavior.</li>
                <li>React is a tool for building reusable components</li>
                <li>Relay is a library that connects React and GraphQL</li>
              </ul>
            </p>
          </aside>
        </section>


        <section data-background-size="100%" data-background-image="lib/images/architecture/puzzles.jpg">
          <aside class="notes">
            Now that we know a little more about where GraphQL came from, let's
            learn about how it fits in with the rest of our websites.
          </aside>
        </section>

        <section data-background-size="100%" data-background-image="lib/images/architecture/laptop.jpg">
          <aside class="notes">
            This is how most of us look when we are trying to book a flight,
            or win our next auction on ebay.
          </aside>
        </section>

        <section data-background-size="100%" data-background-image="https://c.stocksy.com/a/iRb100/z0/382274.jpg">
          <aside class="notes">
            Fortunately for us, we can also use GraphQL from our Phone.
          </aside>
        </section>


        <section data-background-color="white" data-background-iframe="https://web.archive.org/web/19961227005023/http://www2.yahoo.com/"></section>
        <section data-background-color="white" data-background-iframe="https://web.archive.org/web/20000301065500/http://www.ebay.com/"></section>


      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,
        margin: 0,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          // { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
